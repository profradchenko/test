<!DOCTYPE html>
<html>
<head>
  <title>ChatGPTB on Google Sites</title>
  <script>
    function submitForm(event) {
  event.preventDefault();
  const prompt = document.getElementById("prompt").value;
  const result = document.getElementById("result");
  const webAppUrl = "https://your-web-app-url"; // Replace with your web app URL

  // Update the fetch URL with the CORS proxy
  const corsProxy = "https://cors-anywhere.herokuapp.com/";
  const fetchUrl = `${corsProxy}${webAppUrl}?prompt=${encodeURIComponent(prompt)}`;

  result.innerHTML = "Processing...";

  fetch(fetchUrl)
    .then(response => {
      if (!response.ok) {
        throw new Error(`HTTP error ${response.status}: ${response.statusText}`);
      }
      return response.text();
    })
    .then(text => {
      result.innerHTML = text;
    })
    .catch(error => {
      console.error("Error:", error);
      result.innerHTML = `An error occurred: ${error.message}. Please try again.`;
    });
}

  </script>
</head>
<body>
  <h1>Ask ChatGPT</h1>
  <form onsubmit="submitForm(event)">
    <label for="prompt">Question:</label>
    <input type="text" id="prompt" required />
    <button type="submit">Submit</button>
  </form>
  <div id="result"></div>
</body>
</html>
