<!DOCTYPE html>
<html>
<head>
  <title>ChatGPT on Google Sites</title>
  <script>
    function submitForm(event) {
  event.preventDefault();
  const prompt = document.getElementById("prompt").value;
  const result = document.getElementById("result");
  const webAppUrl = "https://script.google.com/macros/s/AKfycbwBHarToSApn2cK74DuA6t_PqvTr8cmiN0MHKTIc_LdX0n3aXJ9v4jqsRj-WQvE81-A/exec"; // Replace with your web app URL

  result.innerHTML = "Processing...";

  fetch(`${webAppUrl}?prompt=${encodeURIComponent(prompt)}`)
    .then(response => {
      if (!response.ok) {
        throw new Error(`HTTP error ${response.status}`);
      }
      return response.text();
    })
    .then(text => {
      result.innerHTML = text;
    })
    .catch(error => {
      console.error("Error:", error);
      result.innerHTML = `An error occurred: ${error.message}. Please try again.`;
    });
}
  </script>
</head>
<body>
  <h1>Ask ChatGPT</h1>
  <form onsubmit="submitForm(event)">
    <label for="prompt">Question:</label>
    <input type="text" id="prompt" required />
    <button type="submit">Submit</button>
  </form>
  <div id="result"></div>
</body>
</html>
